2023-07-22T10:45:40.0738572Z 2023-07-22T10:45:40Z INFO     
2023-07-22T10:45:40.0740174Z ===========
2023-07-22T10:45:40.0741115Z c=>0xc00042a120 | c.Wsconn=>0x0
2023-07-22T10:45:40.0741520Z ===========
2023-07-22T10:45:40.0741693Z 	pkg=rpc/subscription
2023-07-22T10:45:40.0742185Z 2023-07-22T10:45:40Z ERROR    
2023-07-22T10:45:40.0742291Z 
2023-07-22T10:45:40.0743984Z msg => {Jsonrpc:2.0 Method:state_storage Params:{Result:{Changes:[[0x6b6579 0x76616c7565]] Block:0x0000000000000000000000000000000000000000000000000000000000000000} SubscriptionID:0}}
2023-07-22T10:45:40.0744225Z 
2023-07-22T10:45:40.0744415Z 	pkg=rpc/subscription
--- FAIL: TestStorageObserver_Update (0.00s)
2023-07-22T10:45:40.0744945Z panic: runtime error: invalid memory address or nil pointer dereference
2023-07-22T10:45:40.0745334Z 	panic: runtime error: invalid memory address or nil pointer dereference [recovered]
2023-07-22T10:45:40.0745647Z 	panic: runtime error: invalid memory address or nil pointer dereference
2023-07-22T10:45:40.0746014Z [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xf2edeb]
2023-07-22T10:45:40.0746151Z 
2023-07-22T10:45:40.0788776Z goroutine 69 [running]:
2023-07-22T10:45:40.0789530Z testing.tRunner.func1.2({0x105ce20, 0x1ba2f20})
2023-07-22T10:45:40.0792464Z 	/opt/hostedtoolcache/go/1.20.6/x64/src/testing/testing.go:1526 +0x24e
2023-07-22T10:45:40.0792731Z testing.tRunner.func1()
2023-07-22T10:45:40.0794753Z 	/opt/hostedtoolcache/go/1.20.6/x64/src/testing/testing.go:1529 +0x39f


2023-07-22T10:45:40.0796264Z panic({0x105ce20, 0x1ba2f20})
2023-07-22T10:45:40.0797775Z 	/opt/hostedtoolcache/go/1.20.6/x64/src/runtime/panic.go:884 +0x213
2023-07-22T10:45:40.0799266Z github.com/gorilla/websocket.(*Conn).Close(...)
2023-07-22T10:45:40.0800820Z 	/home/runner/go/pkg/mod/github.com/gorilla/websocket@v1.5.0/conn.go:345
2023-07-22T10:45:40.0802337Z github.com/ChainSafe/gossamer/dot/rpc/subscription.setupWSConn.func3()
2023-07-22T10:45:40.0804075Z 	/home/runner/actions-runner/_work/gossamer/gossamer/dot/rpc/subscription/helpers_test.go:48 +0x4b


2023-07-22T10:45:40.0805589Z panic({0x105ce20, 0x1ba2f20})
2023-07-22T10:45:40.0807069Z 	/opt/hostedtoolcache/go/1.20.6/x64/src/runtime/panic.go:884 +0x213
2023-07-22T10:45:40.0808568Z github.com/gorilla/websocket.(*Conn).beginMessage(0x0, 0xc0000d25a0, 0x1)
2023-07-22T10:45:40.0810088Z 	/home/runner/go/pkg/mod/github.com/gorilla/websocket@v1.5.0/conn.go:479 +0x27
2023-07-22T10:45:40.0811567Z github.com/gorilla/websocket.(*Conn).NextWriter(0x0, 0x1)
2023-07-22T10:45:40.0813087Z 	/home/runner/go/pkg/mod/github.com/gorilla/websocket@v1.5.0/conn.go:520 +0x45
2023-07-22T10:45:40.0814632Z github.com/gorilla/websocket.(*Conn).WriteJSON(0xc00037e150?, {0x10e79e0, 0xc0000cea00})
2023-07-22T10:45:40.0816162Z 	/home/runner/go/pkg/mod/github.com/gorilla/websocket@v1.5.0/json.go:24 +0x45
2023-07-22T10:45:40.0817675Z github.com/ChainSafe/gossamer/dot/rpc/subscription.(*WSConn).safeSend(0xc00042a120, {0x10e79e0, 0xc0000cea00})
2023-07-22T10:45:40.0819325Z 	/home/runner/actions-runner/_work/gossamer/gossamer/dot/rpc/subscription/websocket.go:414 +0x186
2023-07-22T10:45:40.0820868Z github.com/ChainSafe/gossamer/dot/rpc/subscription.(*StorageObserver).Update(0xc000153e48, 0xc000153f20)
2023-07-22T10:45:40.0822480Z 	/home/runner/actions-runner/_work/gossamer/gossamer/dot/rpc/subscription/listeners.go:83 +0x426
2023-07-22T10:45:40.0824185Z github.com/ChainSafe/gossamer/dot/rpc/subscription.TestStorageObserver_Update(0x40f559?)
2023-07-22T10:45:40.0825924Z 	/home/runner/actions-runner/_work/gossamer/gossamer/dot/rpc/subscription/listeners_integration_test.go:67 +0x4f3
2023-07-22T10:45:40.0827414Z testing.tRunner(0xc0000d4820, 0x12ffa40)
2023-07-22T10:45:40.0828572Z 	/opt/hostedtoolcache/go/1.20.6/x64/src/testing/testing.go:1576 +0x10b
2023-07-22T10:45:40.0828765Z created by testing.(*T).Run
2023-07-22T10:45:40.0829031Z 	/opt/hostedtoolcache/go/1.20.6/x64/src/testing/testing.go:1629 +0x3ea
2023-07-22T10:45:40.0829395Z FAIL	github.com/ChainSafe/gossamer/dot/rpc/subscription	0.017s
2023-07-22T10:45:40.0831211Z FAIL